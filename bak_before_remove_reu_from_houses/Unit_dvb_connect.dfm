object Form_dvb_connect: TForm_dvb_connect
  Left = 243
  Top = 174
  BorderIcons = [biSystemMenu]
  BorderStyle = bsSingle
  Caption = #1054#1073#1084#1077#1085' '#1076#1072#1085#1085#1099#1084#1080' '#1089' '#1074#1085#1077#1096#1085#1080#1084' '#1091#1089#1090#1088#1086#1081#1089#1090#1074#1086#1084
  ClientHeight = 561
  ClientWidth = 631
  Color = clBtnFace
  Font.Charset = DEFAULT_CHARSET
  Font.Color = clWindowText
  Font.Height = -11
  Font.Name = 'MS Sans Serif'
  Font.Style = []
  FormStyle = fsMDIChild
  Icon.Data = {
    0000010001002020080000000000A80800001600000028000000200000004000
    0000010008000000000000040000000000000000000000000000000000000000
    00004000000080000000FF000000002000004020000080200000FF2000000040
    00004040000080400000FF400000006000004060000080600000FF6000000080
    00004080000080800000FF80000000A0000040A0000080A00000FFA0000000C0
    000040C0000080C00000FFC0000000FF000040FF000080FF0000FFFF00000000
    20004000200080002000FF002000002020004020200080202000FF2020000040
    20004040200080402000FF402000006020004060200080602000FF6020000080
    20004080200080802000FF80200000A0200040A0200080A02000FFA0200000C0
    200040C0200080C02000FFC0200000FF200040FF200080FF2000FFFF20000000
    40004000400080004000FF004000002040004020400080204000FF2040000040
    40004040400080404000FF404000006040004060400080604000FF6040000080
    40004080400080804000FF80400000A0400040A0400080A04000FFA0400000C0
    400040C0400080C04000FFC0400000FF400040FF400080FF4000FFFF40000000
    60004000600080006000FF006000002060004020600080206000FF2060000040
    60004040600080406000FF406000006060004060600080606000FF6060000080
    60004080600080806000FF80600000A0600040A0600080A06000FFA0600000C0
    600040C0600080C06000FFC0600000FF600040FF600080FF6000FFFF60000000
    80004000800080008000FF008000002080004020800080208000FF2080000040
    80004040800080408000FF408000006080004060800080608000FF6080000080
    80004080800080808000FF80800000A0800040A0800080A08000FFA0800000C0
    800040C0800080C08000FFC0800000FF800040FF800080FF8000FFFF80000000
    A0004000A0008000A000FF00A0000020A0004020A0008020A000FF20A0000040
    A0004040A0008040A000FF40A0000060A0004060A0008060A000FF60A0000080
    A0004080A0008080A000FF80A00000A0A00040A0A00080A0A000FFA0A00000C0
    A00040C0A00080C0A000FFC0A00000FFA00040FFA00080FFA000FFFFA0000000
    C0004000C0008000C000FF00C0000020C0004020C0008020C000FF20C0000040
    C0004040C0008040C000FF40C0000060C0004060C0008060C000FF60C0000080
    C0004080C0008080C000FF80C00000A0C00040A0C00080A0C000FFA0C00000C0
    C00040C0C00080C0C000FFC0C00000FFC00040FFC00080FFC000FFFFC0000000
    FF004000FF008000FF00FF00FF000020FF004020FF008020FF00FF20FF000040
    FF004040FF008040FF00FF40FF000060FF004060FF008060FF00FF60FF000080
    FF004080FF008080FF00FF80FF0000A0FF0040A0FF0080A0FF00FFA0FF0000C0
    FF0040C0FF0080C0FF00FFC0FF0000FFFF0040FFFF0080FFFF00FFFFFF000000
    0000000000000000000000000000000000000000000000000000000000000092
    92929292929292929292929292929292929292929292929292929292920000FF
    92929292929292929292929292929292929292929292929292929292920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBFFFFDBDBFFFFDBDBFFFFDBDBFFFFDBDBFFFFDBDBFFFFDBDB92920000FF
    FFDBDB00FFDBDB00FFDBDB00FFDBDB00FFDBDB00FFDBDB00FFDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBFFFFDBDBFFFFDBDBDBDBDBDBFFFFDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDB00FFDBDB0000FFDBDBDBDBDB0000FFDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDB0000FFDBDBDBDBDB0000FFDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDB00FFDBDBDB00DBDB00FFDBDBDBDBDBDBDBDB92920000FF
    FFDBDBFFFFDBDBDBDBDB00FFFF00DBDBDBDB00FFFFDBDBDBDBDBDB92920000FF
    FFDBDB00FFDBDBDBDBDBDB0000FFDBDBDBDBDB0000FFDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDB0000FFDBDBDBDBDB0000FFDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB00FFDBDBDBDB92920000FF
    FFDBDBFFFFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB00FFFFDBDB92920000FF
    FFDBDB00FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB0000FFDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB0000FFDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBFFFFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDB00FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDB92920000FF
    FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF92920000FF
    FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF92000000
    0000000000000000000000000000000000000000000000000000000000008000
    0001000000000000000000000000000000000000000000000000000000000000
    0000000000000000000000000000000000000000000000000000000000000000
    0000000000000000000000000000000000000000000000000000000000000000
    000000000000000000000000000000000000000000000000000080000001}
  OldCreateOrder = False
  Position = poMainFormCenter
  Visible = True
  OnClose = FormClose
  OnCreate = FormCreate
  PixelsPerInch = 96
  TextHeight = 13
  object GroupBox1: TGroupBox
    Left = 0
    Top = 512
    Width = 631
    Height = 49
    Align = alBottom
    TabOrder = 5
    object Button2: TButton
      Left = 542
      Top = 16
      Width = 75
      Height = 25
      Cancel = True
      Caption = #1047#1072#1082#1088#1099#1090#1100
      TabOrder = 1
      OnClick = Button2Click
    end
    object Button4: TButton
      Left = 449
      Top = 16
      Width = 75
      Height = 25
      Caption = #1042#1099#1075#1088#1091#1079#1080#1090#1100
      TabOrder = 0
      OnClick = Button4Click
    end
  end
  object GroupBox2: TGroupBox
    Left = 0
    Top = 0
    Width = 631
    Height = 113
    Align = alTop
    Caption = #1055#1072#1088#1072#1084#1077#1090#1088#1099
    TabOrder = 0
    object Label1: TLabel
      Left = 56
      Top = 24
      Width = 43
      Height = 13
      Caption = #1059#1089#1083#1091#1075#1072
      Font.Charset = DEFAULT_CHARSET
      Font.Color = clWindowText
      Font.Height = -11
      Font.Name = 'MS Sans Serif'
      Font.Style = [fsBold]
      ParentFont = False
    end
    object Label2: TLabel
      Left = 8
      Top = 56
      Width = 89
      Height = 13
      Caption = #1055#1091#1090#1100' '#1074#1099#1075#1088#1091#1079#1082#1080
      Font.Charset = DEFAULT_CHARSET
      Font.Color = clWindowText
      Font.Height = -11
      Font.Name = 'MS Sans Serif'
      Font.Style = [fsBold]
      ParentFont = False
    end
    object wwDBLookupCombo1: TwwDBLookupCombo
      Left = 104
      Top = 20
      Width = 337
      Height = 21
      DropDownAlignment = taLeftJustify
      Selected.Strings = (
        'NM'#9'22'#9'NM'#9#9)
      LookupTable = OD_usl
      LookupField = 'USL'
      TabOrder = 0
      AutoDropDown = False
      ShowButton = True
      PreciseEditRegion = False
      AllowClearKey = False
    end
    object DBEditEh1: TDBEditEh
      Left = 104
      Top = 48
      Width = 337
      Height = 21
      EditButtons = <
        item
          Style = ebsEllipsisEh
          OnClick = DBEditEh1EditButtons0Click
        end>
      TabOrder = 1
      Visible = True
    end
    object CheckBox1: TCheckBox
      Left = 104
      Top = 80
      Width = 81
      Height = 17
      Hint = #1044#1086#1073#1072#1074#1083#1103#1090#1100' '#1083#1080' '#1095#1080#1089#1083#1086' 80 Hex'
      Caption = '+ 80 Hex'
      Checked = True
      Font.Charset = DEFAULT_CHARSET
      Font.Color = clWindowText
      Font.Height = -11
      Font.Name = 'MS Sans Serif'
      Font.Style = [fsBold]
      ParentFont = False
      State = cbChecked
      TabOrder = 2
    end
    object CheckBox2: TCheckBox
      Left = 192
      Top = 80
      Width = 185
      Height = 17
      Hint = 
        #1057#1092#1086#1088#1084#1080#1088#1086#1074#1072#1090#1100' '#1080#1089#1093' '#1089#1072#1083#1100#1076#1086', '#1087#1086' '#1082#1086#1090#1086#1088#1086#1084#1091' '#1086#1087#1088#1077#1076#1077#1083#1080#1090#1100', '#1074#1082#1083#1102#1095#1080#1090#1100' '#1087#1088#1086#1075#1088#1072 +
        #1084#1084#1091' '#1080#1083#1080' '#1085#1077#1090
      Caption = #1057#1092#1086#1088#1084#1080#1088#1086#1074#1072#1090#1100' '#1080#1089#1093'.'#1089#1072#1083#1100#1076#1086
      Checked = True
      Font.Charset = DEFAULT_CHARSET
      Font.Color = clWindowText
      Font.Height = -11
      Font.Name = 'MS Sans Serif'
      Font.Style = [fsBold]
      ParentFont = False
      State = cbChecked
      TabOrder = 3
    end
    object CheckBox3: TCheckBox
      Left = 392
      Top = 80
      Width = 185
      Height = 17
      Hint = 
        #1057#1092#1086#1088#1084#1080#1088#1086#1074#1072#1090#1100' '#1080#1089#1093' '#1089#1072#1083#1100#1076#1086', '#1087#1086' '#1082#1086#1090#1086#1088#1086#1084#1091' '#1086#1087#1088#1077#1076#1077#1083#1080#1090#1100', '#1074#1082#1083#1102#1095#1080#1090#1100' '#1087#1088#1086#1075#1088#1072 +
        #1084#1084#1091' '#1080#1083#1080' '#1085#1077#1090
      Caption = #1042#1099#1075#1088#1091#1078#1072#1090#1100' '#1082#1072#1078#1076#1099#1077
      Font.Charset = DEFAULT_CHARSET
      Font.Color = clWindowText
      Font.Height = -11
      Font.Name = 'MS Sans Serif'
      Font.Style = [fsBold]
      ParentFont = False
      TabOrder = 4
      OnClick = CheckBox3Click
    end
  end
  object StaticText1: TStaticText
    Left = 0
    Top = 120
    Width = 4
    Height = 4
    TabOrder = 2
  end
  object Memo1: TMemo
    Left = 0
    Top = 113
    Width = 631
    Height = 58
    Align = alBottom
    Lines.Strings = (
      #1042#1085#1080#1084#1072#1085#1080#1077'! '#1041#1091#1076#1091#1090' '#1074#1099#1075#1088#1091#1078#1077#1085#1099' '#1074#1089#1077' ID '#1076#1077#1082#1086#1076#1077#1088#1086#1074' '#1091' '#1082#1086#1090#1086#1088#1099#1093
      #1076#1077#1081#1089#1090#1074#1091#1102#1097#1080#1081' '#1076#1086#1075#1086#1074#1086#1088' '#1080' '#1089#1091#1084#1084#1072' '#1080#1089#1093' '#1089#1072#1083#1100#1076#1086' <= 0')
    TabOrder = 1
  end
  object wwDBGrid1: TwwDBGrid
    Left = 0
    Top = 171
    Width = 631
    Height = 341
    Selected.Strings = (
      'LSK'#9'8'#9#1051'/'#1057#9'F'
      'NAME'#9'19'#9#1058#1072#1088#1080#1092#9'F'
      'MASK'#9'48'#9#1052#1072#1089#1082#1072#9'F'
      'SUMMA'#9'10'#9#1048#1089#1093'.'#1057#1072#1083#1100#1076#1086#9'F'
      'ID_DVB'#9'10'#9'ID_DVB')
    IniAttributes.Delimiter = ';;'
    TitleColor = clBtnFace
    FixedCols = 0
    ShowHorzScrollBar = True
    Align = alBottom
    DataSource = DataSource1
    TabOrder = 3
    TitleAlignment = taLeftJustify
    TitleFont.Charset = DEFAULT_CHARSET
    TitleFont.Color = clWindowText
    TitleFont.Height = -11
    TitleFont.Name = 'MS Sans Serif'
    TitleFont.Style = []
    TitleLines = 1
    TitleButtons = False
    UseTFields = False
  end
  object Panel1: TPanel
    Left = 224
    Top = 232
    Width = 185
    Height = 41
    Caption = #1046#1076#1080#1090#1077'...'
    TabOrder = 4
    Visible = False
  end
  object OD_base: TOracleDataSet
    SQL.Strings = (
      
        'select lsk, mask, name, id_dvb, summa, to_char(abs(summa)*100) a' +
        's summa2, sign(summa) as sgn_summa from ('
      'select r.lsk, '
      '--'#1055#1088#1086#1075#1088#1072#1084#1084#1099' '#1074' '#1055#1072#1082#1077#1090#1072#1093
      '  s.mask, s.name,'
      'n.id_dvb, a.summa from'
      ' scott.nabor r, '
      ' scott.nabor_progs n, '
      ' scott.spr_tarif s,'
      ' scott.spr_tarifxprogs g,'
      
        ' (select c.lsk, sum(decode(c.type,0,c.summa,1,-1*c.summa)) as su' +
        'mma '
      '         from scott.c_chargepay c, scott.params p  --'#1080#1089#1093'.'#1089#1072#1083#1100#1076#1086
      '         where c.period=p.period group by c.lsk) a,'
      '(select c.lsk, sum(c.summa) as summa '
      '         from scott.c_charge c'
      
        '         where --'#1087#1088#1086#1074#1077#1088#1103#1077#1084' '#1077#1089#1090#1100' '#1083#1080' '#1085#1072#1095#1080#1089#1083#1077#1085#1080#1077' '#1090#1077#1082#1091#1097#1077#1075#1086' '#1087#1077#1088#1080#1086#1076#1072' (' +
        #1095#1090#1086#1073#1099' '#1085#1077' '#1089#1084#1086#1090#1088#1077#1090#1100' '#1074#1089#1103#1082#1080#1077' '#1076#1072#1090#1099' '#1076#1086#1075#1086#1074#1086#1088#1072' '#1080' '#1087#1088#1086#1095#1077#1077')'
      '         c.usl=:usl and c.type=1 group by c.lsk) b'
      
        '          where r.lsk=n.lsk and r.lsk=a.lsk(+) and r.lsk=b.lsk(+' +
        ')'
      
        ' and r.usl=n.usl and n.fk_tarif=g.fk_tarif and r.usl=:usl and s.' +
        'id=g.fk_prog'
      
        '  and n.id_dvb is not null and nvl(a.summa,0) <= 0 and nvl(b.sum' +
        'ma,0) > 0'
      'union all'
      'select r.lsk, '
      '--'#1054#1090#1076#1077#1083#1100#1085#1099#1077' '#1087#1088#1086#1075#1088#1072#1084#1084#1099
      '/*'#1053#1091#1083#1080#1090#1100' '#1084#1072#1089#1082#1091', '#1077#1089#1083#1080' '#1085#1077#1090' '#1085#1072#1095#1080#1089#1083#1077#1085#1080#1103' '#1087#1086' '#1091#1089#1083#1091#1075#1077
      
        'case when nvl(r.norm,0) = 0 or nvl(a.summa,0) > 0 or nvl(b.summa' +
        ',0) <= 0 then'
      '   lpad('#39'0'#39',992,'#39'0'#39')'
      '   else'
      '    s.mask'
      '   end as mask, s.name,*/'
      '  s.mask, s.name,'
      'n.id_dvb, a.summa from '
      ' scott.nabor r, '
      ' scott.nabor_progs n, '
      ' scott.spr_tarif s,'
      
        ' (select c.lsk, sum(decode(c.type,0,c.summa,1,-1*c.summa)) as su' +
        'mma '
      '         from scott.c_chargepay c, scott.params p --'#1080#1089#1093'.'#1089#1072#1083#1100#1076#1086
      '         where c.period=p.period group by c.lsk) a,'
      '(select c.lsk, sum(c.summa) as summa '
      '         from scott.c_charge c'
      
        '         where --'#1087#1088#1086#1074#1077#1088#1103#1077#1084' '#1077#1089#1090#1100' '#1083#1080' '#1085#1072#1095#1080#1089#1083#1077#1085#1080#1077' '#1090#1077#1082#1091#1097#1077#1075#1086' '#1087#1077#1088#1080#1086#1076#1072' (' +
        #1095#1090#1086#1073#1099' '#1085#1077' '#1089#1084#1086#1090#1088#1077#1090#1100' '#1074#1089#1103#1082#1080#1077' '#1076#1072#1090#1099' '#1076#1086#1075#1086#1074#1086#1088#1072' '#1080' '#1087#1088#1086#1095#1077#1077')'
      '         c.usl=:usl and c.type=1 group by c.lsk) b'
      
        ' where r.lsk=n.lsk and r.lsk=a.lsk(+) and r.lsk=b.lsk(+) and r.u' +
        'sl=n.usl and n.fk_tarif=s.id and r.usl=:usl'
      
        '  and n.id_dvb is not null and nvl(a.summa,0) <= 0 and nvl(b.sum' +
        'ma,0) > 0'
      
        '  and not exists (select * from scott.spr_tarifxprogs g where g.' +
        'fk_tarif=n.fk_tarif)'
      ') a order by a.id_dvb')
    Optimize = False
    Variables.Data = {
      0300000001000000040000003A55534C05000000040000003035330000000000}
    QBEDefinition.QBEFieldDefs = {
      0400000005000000030000004C534B010000000000040000004D41534B010000
      0000000600000049445F445642010000000000040000004E414D450100000000
      000500000053554D4D41010000000000}
    Master = OD_usl
    MasterFields = 'USL'
    DetailFields = 'USL'
    Session = DataModule1.OracleSession1
    Left = 16
    Top = 8
  end
  object OD_usl: TOracleDataSet
    SQL.Strings = (
      'select t.usl, t.usl||'#39' '#39'||t.nm as nm, t.n_progs'
      'from scott.usl t where nvl(t.n_progs,0)=1'
      'order by t.npp')
    Optimize = False
    QBEDefinition.QBEFieldDefs = {
      04000000030000000300000055534C010000000000020000004E4D0100000000
      00070000004E5F50524F4753010000000000}
    QueryAllRecords = False
    Session = DataModule1.OracleSession1
    Left = 16
    Top = 40
    object OD_uslNM: TStringField
      DisplayWidth = 22
      FieldName = 'NM'
      Size = 22
    end
    object OD_uslUSL: TStringField
      DisplayWidth = 3
      FieldName = 'USL'
      Required = True
      Visible = False
      Size = 3
    end
    object OD_uslN_PROGS: TFloatField
      FieldName = 'N_PROGS'
    end
  end
  object DS_usl: TDataSource
    DataSet = OD_usl
    Left = 48
    Top = 40
  end
  object OD_count: TOracleDataSet
    SQL.Strings = (
      'select count(distinct n.id_dvb) as cnt from '
      ' scott.nabor r, '
      ' scott.nabor_progs n,'
      
        ' (select c.lsk, sum(decode(c.type,0,c.summa,1,-1*c.summa)) as su' +
        'mma '
      '         from scott.c_chargepay c, scott.params p  --'#1080#1089#1093'.'#1089#1072#1083#1100#1076#1086
      '         where c.period=p.period group by c.lsk) a,'
      ' (select c.lsk, sum(c.summa) as summa '
      '         from scott.c_charge c'
      
        '         where --'#1087#1088#1086#1074#1077#1088#1103#1077#1084' '#1077#1089#1090#1100' '#1083#1080' '#1085#1072#1095#1080#1089#1083#1077#1085#1080#1077' '#1090#1077#1082#1091#1097#1077#1075#1086' '#1087#1077#1088#1080#1086#1076#1072' (' +
        #1095#1090#1086#1073#1099' '#1085#1077' '#1089#1084#1086#1090#1088#1077#1090#1100' '#1074#1089#1103#1082#1080#1077' '#1076#1072#1090#1099' '#1076#1086#1075#1086#1074#1086#1088#1072' '#1080' '#1087#1088#1086#1095#1077#1077')'
      '         c.usl=:usl and c.type=1 group by c.lsk) b'
      
        ' where r.lsk=n.lsk and r.lsk=a.lsk(+) and r.lsk=b.lsk(+) and r.u' +
        'sl=n.usl and r.usl=:usl '
      
        '  and n.id_dvb is not null and nvl(a.summa,0) <= 0 and nvl(b.sum' +
        'ma,0) > 0')
    Optimize = False
    Variables.Data = {
      0300000001000000040000003A55534C05000000040000003035330000000000}
    QBEDefinition.QBEFieldDefs = {
      0400000003000000030000004C534B010000000000040000004D41534B010000
      00000006000000464B5F445642010000000000}
    Master = OD_usl
    MasterFields = 'USL'
    DetailFields = 'USL'
    Session = DataModule1.OracleSession1
    Left = 40
    Top = 8
  end
  object DataSource1: TDataSource
    DataSet = OD_base
    Left = 16
    Top = 72
  end
  object Timer1: TTimer
    Enabled = False
    Interval = 1000000
    OnTimer = Timer1Timer
    Left = 456
    Top = 16
  end
end
